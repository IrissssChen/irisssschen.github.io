var dtb = [
  {loc: "Santorini", imgsm: ['https://luxurysuitesantorini.com/wp-content/uploads/2020/05/view-pura-vida-villa-house-luxury-suites-santorini-33-768x512.jpg', "View of the vast, blue ocean in Santorini"], imgbg: ['https://a.cdn-hotels.com/gdcs/production103/d1782/cad3ba60-fe12-11e8-85c5-0242ac110002.jpg', "Santorini houses by the sea"],
    des: ["Find your inner peace on a tranquil Mediterranean island", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eget purus ut libero eleifend finibus sit amet a dui. Mauris ac lacus varius, imperdiet magna nec, vestibulum justo. Quisque sodales congue eleifend. Phasellus ut scelerisque lectus. Aenean et luctus arcu. In hac habitasse platea dictumst. Interdum et malesuada fames ac ante ipsum primis in faucibus. Etiam lacinia, est a commodo finibus, erat magna ultrices turpis, vitae congue felis urna faucibus odio.", "Mauris auctor felis mauris, euismod egestas nisi fermentum eget. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi eu tellus libero. Maecenas ac leo a risus rutrum suscipit ut id nisl. Praesent maximus velit vel tellus interdum condimentum. Cras blandit ultrices justo eget sodales. Aenean porta et ipsum a luctus. Praesent urna sem, consectetur non mauris sit amet, finibus finibus nisl. Pellentesque eget metus purus.", "Phasellus ipsum felis, ullamcorper vel finibus a, aliquet at massa. Maecenas ornare nibh ut nunc porta consequat a eget lacus. Suspendisse a mi ante. Morbi sit amet sem leo. Suspendisse scelerisque erat maximus odio maximus volutpat. Vestibulum porttitor tortor sed est pharetra efficitur. Praesent fringilla finibus ex, vel sollicitudin dolor pharetra et. Maecenas tristique mollis efficitur. Quisque volutpat leo ut nisi lacinia, id fringilla lorem venenatis. Praesent rhoncus blandit leo eu porta. Vestibulum lacus lectus, posuere a rhoncus ut, cursus ut risus. Morbi cursus ullamcorper justo et aliquam. Sed eleifend erat non sapien iaculis, vel varius nulla tincidunt. Nulla dictum egestas ipsum, ut ornare velit dapibus vitae."],
    key: ["ocean", "leisure"], wis: false, rev: ["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam et ligula dolor.", "John Lee, 9"]},
  
  {loc: "Kyoto", imgsm: ['https://www.ncl.com/sites/default/files/hero-kyoto-osaka-castle-mobile-2.jpg', "Kyoto castle with lights"], imgbg: ["https://vickiviaja.b-cdn.net/wp-content/uploads/2020/02/best-ryokan-in-kyoto.jpg", "Beautiful foliage in Kyoto"], des: ["An ancient capital where Buddhist temples still stand", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eget purus ut libero eleifend finibus sit amet a dui. Mauris ac lacus varius, imperdiet magna nec, vestibulum justo. Quisque sodales congue eleifend. Phasellus ut scelerisque lectus. Aenean et luctus arcu. In hac habitasse platea dictumst. Interdum et malesuada fames ac ante ipsum primis in faucibus. Etiam lacinia, est a commodo finibus, erat magna ultrices turpis, vitae congue felis urna faucibus odio.", "Mauris auctor felis mauris, euismod egestas nisi fermentum eget. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi eu tellus libero. Maecenas ac leo a risus rutrum suscipit ut id nisl. Praesent maximus velit vel tellus interdum condimentum. Cras blandit ultrices justo eget sodales. Aenean porta et ipsum a luctus. Praesent urna sem, consectetur non mauris sit amet, finibus finibus nisl. Pellentesque eget metus purus.", "Phasellus ipsum felis, ullamcorper vel finibus a, aliquet at massa. Maecenas ornare nibh ut nunc porta consequat a eget lacus. Suspendisse a mi ante. Morbi sit amet sem leo. Suspendisse scelerisque erat maximus odio maximus volutpat. Vestibulum porttitor tortor sed est pharetra efficitur. Praesent fringilla finibus ex, vel sollicitudin dolor pharetra et. Maecenas tristique mollis efficitur. Quisque volutpat leo ut nisi lacinia, id fringilla lorem venenatis. Praesent rhoncus blandit leo eu porta. Vestibulum lacus lectus, posuere a rhoncus ut, cursus ut risus. Morbi cursus ullamcorper justo et aliquam. Sed eleifend erat non sapien iaculis, vel varius nulla tincidunt. Nulla dictum egestas ipsum, ut ornare velit dapibus vitae."],  key: ["culture", "japan"], wis: false, rev: ["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam et ligula dolor.", "John Lee, 9"]},
  
  {loc: "Yellowstone National Park", imgsm: ['https://www.outsideonline.com/wp-content/uploads/2019/10/23/geyser-yelowstone-burst_s.jpg?crop=1:1&width=600&enable=upscale&quality=100', "Geyser at Yellowstone"], imgbg: ["https://thumbor.forbes.com/thumbor/960x0/https%3A%2F%2Fspecials-images.forbesimg.com%2Fimageserve%2F60a77f30768434735cc94924%2FGrand-Prismatic-Spring---Yellowstone-National-Park%2F960x0.jpg%3Ffit%3Dscale", "Grand Prismatic Spring at Yelowstone"], des: ["Visit - or revisit - the US's most well-known national park", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eget purus ut libero eleifend finibus sit amet a dui. Mauris ac lacus varius, imperdiet magna nec, vestibulum justo. Quisque sodales congue eleifend. Phasellus ut scelerisque lectus. Aenean et luctus arcu. In hac habitasse platea dictumst. Interdum et malesuada fames ac ante ipsum primis in faucibus. Etiam lacinia, est a commodo finibus, erat magna ultrices turpis, vitae congue felis urna faucibus odio.", "Mauris auctor felis mauris, euismod egestas nisi fermentum eget. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi eu tellus libero. Maecenas ac leo a risus rutrum suscipit ut id nisl. Praesent maximus velit vel tellus interdum condimentum. Cras blandit ultrices justo eget sodales. Aenean porta et ipsum a luctus. Praesent urna sem, consectetur non mauris sit amet, finibus finibus nisl. Pellentesque eget metus purus.", "Phasellus ipsum felis, ullamcorper vel finibus a, aliquet at massa. Maecenas ornare nibh ut nunc porta consequat a eget lacus. Suspendisse a mi ante. Morbi sit amet sem leo. Suspendisse scelerisque erat maximus odio maximus volutpat. Vestibulum porttitor tortor sed est pharetra efficitur. Praesent fringilla finibus ex, vel sollicitudin dolor pharetra et. Maecenas tristique mollis efficitur. Quisque volutpat leo ut nisi lacinia, id fringilla lorem venenatis. Praesent rhoncus blandit leo eu porta. Vestibulum lacus lectus, posuere a rhoncus ut, cursus ut risus. Morbi cursus ullamcorper justo et aliquam. Sed eleifend erat non sapien iaculis, vel varius nulla tincidunt. Nulla dictum egestas ipsum, ut ornare velit dapibus vitae."],  key: ["nature", "nationalpark"], wis: false, rev: ["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam et ligula dolor.", "John Lee, 9"]},
  
  {loc: "Kenya", imgsm: ["https://images.ctfassets.net/bth3mlrehms2/6XultPxAjxCZ457HtAnQW9/312e1798a4358c23e44ddcfbe707d986/iStock-692556208.jpg?w=520&h=347&fl=progressive&q=50&fm=jpg", "Zebras on a Kenyan savannah"], imgbg: ["https://cdn.cnn.com/cnnnext/dam/assets/170706112946-kenya-super-tease.jpg", "Giraffes on a Kenyan savannah"], des: ["Tired of zoos? Visit animals in their natural habitat", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eget purus ut libero eleifend finibus sit amet a dui. Mauris ac lacus varius, imperdiet magna nec, vestibulum justo. Quisque sodales congue eleifend. Phasellus ut scelerisque lectus. Aenean et luctus arcu. In hac habitasse platea dictumst. Interdum et malesuada fames ac ante ipsum primis in faucibus. Etiam lacinia, est a commodo finibus, erat magna ultrices turpis, vitae congue felis urna faucibus odio.", "Mauris auctor felis mauris, euismod egestas nisi fermentum eget. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi eu tellus libero. Maecenas ac leo a risus rutrum suscipit ut id nisl. Praesent maximus velit vel tellus interdum condimentum. Cras blandit ultrices justo eget sodales. Aenean porta et ipsum a luctus. Praesent urna sem, consectetur non mauris sit amet, finibus finibus nisl. Pellentesque eget metus purus.", "Phasellus ipsum felis, ullamcorper vel finibus a, aliquet at massa. Maecenas ornare nibh ut nunc porta consequat a eget lacus. Suspendisse a mi ante. Morbi sit amet sem leo. Suspendisse scelerisque erat maximus odio maximus volutpat. Vestibulum porttitor tortor sed est pharetra efficitur. Praesent fringilla finibus ex, vel sollicitudin dolor pharetra et. Maecenas tristique mollis efficitur. Quisque volutpat leo ut nisi lacinia, id fringilla lorem venenatis. Praesent rhoncus blandit leo eu porta. Vestibulum lacus lectus, posuere a rhoncus ut, cursus ut risus. Morbi cursus ullamcorper justo et aliquam. Sed eleifend erat non sapien iaculis, vel varius nulla tincidunt. Nulla dictum egestas ipsum, ut ornare velit dapibus vitae."],  key: ["nature", "nationalpark"], wis: false, rev: ["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam et ligula dolor.", "John Lee, 9"]},
  
  {loc: "Prague", imgsm: ["https://tse1-mm.cn.bing.net/th/id/R-C.d6bed5f192178da3acce3258decde95c?rik=JLHa04xDrGmXHQ&riu=http%3a%2f%2fwww.mymodernmet.com%2fwp%2fwp-content%2fuploads%2farchive%2fdwkJWccVuryiN5LueksA_Library5.jpeg&ehk=emDn2A164D2VyDzn3krUll1LJQOAH7Yuwp%2fKEQ2BSSk%3d&risl=&pid=ImgRaw&r=0", "The Klementinum National Library"], imgbg: ["https://res.klook.com/images/fl_lossy.progressive,q_65/c_fill,w_1295,h_720/w_80,x_15,y_15,g_south_west,l_klook_water/activities/gfgxewmya30fhagztwtg/PragueCard.webp", "Panorama with Prague Castle"], des: ["Founded in the 5th century, the bustling capital of the Czech Republic.", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eget purus ut libero eleifend finibus sit amet a dui. Mauris ac lacus varius, imperdiet magna nec, vestibulum justo. Quisque sodales congue eleifend. Phasellus ut scelerisque lectus. Aenean et luctus arcu. In hac habitasse platea dictumst. Interdum et malesuada fames ac ante ipsum primis in faucibus. Etiam lacinia, est a commodo finibus, erat magna ultrices turpis, vitae congue felis urna faucibus odio.", "Mauris auctor felis mauris, euismod egestas nisi fermentum eget. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi eu tellus libero. Maecenas ac leo a risus rutrum suscipit ut id nisl. Praesent maximus velit vel tellus interdum condimentum. Cras blandit ultrices justo eget sodales. Aenean porta et ipsum a luctus. Praesent urna sem, consectetur non mauris sit amet, finibus finibus nisl. Pellentesque eget metus purus.", "Phasellus ipsum felis, ullamcorper vel finibus a, aliquet at massa. Maecenas ornare nibh ut nunc porta consequat a eget lacus. Suspendisse a mi ante. Morbi sit amet sem leo. Suspendisse scelerisque erat maximus odio maximus volutpat. Vestibulum porttitor tortor sed est pharetra efficitur. Praesent fringilla finibus ex, vel sollicitudin dolor pharetra et. Maecenas tristique mollis efficitur. Quisque volutpat leo ut nisi lacinia, id fringilla lorem venenatis. Praesent rhoncus blandit leo eu porta. Vestibulum lacus lectus, posuere a rhoncus ut, cursus ut risus. Morbi cursus ullamcorper justo et aliquam. Sed eleifend erat non sapien iaculis, vel varius nulla tincidunt. Nulla dictum egestas ipsum, ut ornare velit dapibus vitae."],  key: ["history", "library"], wis: false, rev: ["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam et ligula dolor.", "John Lee, 9"]},
  
  {loc: "Tarvisio", imgsm: ["https://upload.wikimedia.org/wikipedia/commons/6/68/Tarvisio_Mt_Lussari_peak.jpg", "The peak of Mt. Lussari in Tarvisio"], imgbg: ["https://www.iucn.org/sites/dev/files/content/images/2020/shutterstock_1458128810.jpg", "Lake Fusine in Tarvisio"], des: ["A close contact with nature in a small Italian town", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eget purus ut libero eleifend finibus sit amet a dui. Mauris ac lacus varius, imperdiet magna nec, vestibulum justo. Quisque sodales congue eleifend. Phasellus ut scelerisque lectus. Aenean et luctus arcu. In hac habitasse platea dictumst. Interdum et malesuada fames ac ante ipsum primis in faucibus. Etiam lacinia, est a commodo finibus, erat magna ultrices turpis, vitae congue felis urna faucibus odio.", "Mauris auctor felis mauris, euismod egestas nisi fermentum eget. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi eu tellus libero. Maecenas ac leo a risus rutrum suscipit ut id nisl. Praesent maximus velit vel tellus interdum condimentum. Cras blandit ultrices justo eget sodales. Aenean porta et ipsum a luctus. Praesent urna sem, consectetur non mauris sit amet, finibus finibus nisl. Pellentesque eget metus purus.", "Phasellus ipsum felis, ullamcorper vel finibus a, aliquet at massa. Maecenas ornare nibh ut nunc porta consequat a eget lacus. Suspendisse a mi ante. Morbi sit amet sem leo. Suspendisse scelerisque erat maximus odio maximus volutpat. Vestibulum porttitor tortor sed est pharetra efficitur. Praesent fringilla finibus ex, vel sollicitudin dolor pharetra et. Maecenas tristique mollis efficitur. Quisque volutpat leo ut nisi lacinia, id fringilla lorem venenatis. Praesent rhoncus blandit leo eu porta. Vestibulum lacus lectus, posuere a rhoncus ut, cursus ut risus. Morbi cursus ullamcorper justo et aliquam. Sed eleifend erat non sapien iaculis, vel varius nulla tincidunt. Nulla dictum egestas ipsum, ut ornare velit dapibus vitae."],  key: ["nature", "wild"], wis: false, rev: ["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam et ligula dolor.", "John Lee, 9"]},
  
  {loc: "Beijing", imgsm: ["https://www.internationaltaxreview.com/Media/images/international-tax-review/1-commercial/li-yang-oS2MSW5ipH0-unsplash.jpg", "Skyscrapers in Beijing"], imgbg: ["https://news.cgtn.com/news/2021-12-20/Live-Twilight-shining-through-the-Seventeen-Arch-Bridge-169oYiQxWJW/img/8ebf4faa12da47b9a4365212de9e2dda/8ebf4faa12da47b9a4365212de9e2dda.png", "Seventeen-arc bridge in Summer Palace, Beijing"], des: ["A bustling megacity with rich history", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eget purus ut libero eleifend finibus sit amet a dui. Mauris ac lacus varius, imperdiet magna nec, vestibulum justo. Quisque sodales congue eleifend. Phasellus ut scelerisque lectus. Aenean et luctus arcu. In hac habitasse platea dictumst. Interdum et malesuada fames ac ante ipsum primis in faucibus. Etiam lacinia, est a commodo finibus, erat magna ultrices turpis, vitae congue felis urna faucibus odio.", "Mauris auctor felis mauris, euismod egestas nisi fermentum eget. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi eu tellus libero. Maecenas ac leo a risus rutrum suscipit ut id nisl. Praesent maximus velit vel tellus interdum condimentum. Cras blandit ultrices justo eget sodales. Aenean porta et ipsum a luctus. Praesent urna sem, consectetur non mauris sit amet, finibus finibus nisl. Pellentesque eget metus purus.", "Phasellus ipsum felis, ullamcorper vel finibus a, aliquet at massa. Maecenas ornare nibh ut nunc porta consequat a eget lacus. Suspendisse a mi ante. Morbi sit amet sem leo. Suspendisse scelerisque erat maximus odio maximus volutpat. Vestibulum porttitor tortor sed est pharetra efficitur. Praesent fringilla finibus ex, vel sollicitudin dolor pharetra et. Maecenas tristique mollis efficitur. Quisque volutpat leo ut nisi lacinia, id fringilla lorem venenatis. Praesent rhoncus blandit leo eu porta. Vestibulum lacus lectus, posuere a rhoncus ut, cursus ut risus. Morbi cursus ullamcorper justo et aliquam. Sed eleifend erat non sapien iaculis, vel varius nulla tincidunt. Nulla dictum egestas ipsum, ut ornare velit dapibus vitae."],  key: ["civilization", "city"], wis: false, rev: ["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam et ligula dolor.", "John Lee, 9"]},
  ];
var randomPortal = document.getElementById("random");
var key = Math.floor(Math.random()*(dtb.length));
var paragraphChunk = '';
for (var a=1; a<dtb[key].des.length; a++){
  paragraphChunk += '<p>';
  paragraphChunk += dtb[key].des[1];
  paragraphChunk += '</p>';
}
randomPortal.innerHTML += '<img class="full-bleed-phone" src="' + dtb[key].imgbg[0] + '" alt="' + dtb[key].imgbg[1] + '"><div class="loc-info horizontally-center"><p class="loc-name">' + dtb[key].loc +
  '</p><div class="add-to-wishlist"><span><a class="keyword">#' + dtb[key].key[0] + '</a><a class="keyword">#'+ dtb[key].key[1] +'</a></span><div class="add-button vertically-center ' + dtb[key].loc.replace(/ /g, "-") + '">+</div><span></span></div></div>' + paragraphChunk +
  '<div class="testimonial horizontally-center"><p class="quote-content"><span class="quotation-mark">&ldquo;</span>' +
  dtb[key].rev[0] + '<span class="quotation-mark">&rdquo;</span></p><div class="quote-photo-wrapper horizontally-center vertically-center"><img class="quote-photo" src="https://i.pinimg.com/originals/0c/3b/3a/0c3b3adb1a7530892e55ef36d3be6cb8.png" alt="User icon"></div><p class="quote-attribution">-- '+ dtb[key].rev[1] + '</p></div>';

var newEl;
var cardContainer = document.getElementsByClassName("card-container")[0];
for(var i=0; i<6; i++){
  newEl = document.createElement("div");
  newEl.className = "card";
  newEl.innerHTML='<div class="horizontally-center img-wrapper"><img src="' + dtb[i].imgsm[0] + '" alt="' + dtb[i].imgsm[1] +'"></div><div class="card-label vertically-center"><h3 class="loc-name">' + dtb[i].loc + '</h3><p>' + dtb[i].des[0] + '</p><span><a class="keyword">#' + dtb[i].key[0] + '</a> <a class="keyword">#' + dtb[i].key[1] + '</a></span><div class="add-to-wishlist"><div class="add-button vertically-center '+ dtb[i].loc.replace(/ /g, "-") + '">+</div><span>Add to wishlist</span></div></div>';
  cardContainer.appendChild(newEl);
}

var wishlistIcon = document.getElementsByClassName("wishlist-icon")[0];
var wishlist = document.getElementsByClassName("wishlist")[0];
var explore = document.getElementById("explore");
var wishlistOpen = false;
function toggleView() {
  wishlist.classList.toggle("show-wishlist");
  wishlistIcon.classList.toggle("wishlist-icon-selected");
  wishlistOpen = !wishlistOpen;
  console.log(window.innerWidth);
  if(window.innerWidth > 768){
    if(wishlistOpen){
      explore.style.width = 0.9 * window.innerWidth - 400 + "px";
      console.log(0.9 * window.innerWidth - 400);
    }
    else{
      explore.style.width="90vw";
    }
  }
}

wishlistIcon.addEventListener("click", toggleView);

var locations = document.getElementsByClassName("loc-name");
var addButtons = document.getElementsByClassName("add-button");
var temp, j;
function editWishlist(){
  temp = this.classList[2];
  for(var k=0; k<dtb.length; k++){
    if(dtb[k].loc.replace(/ /g, "-") == temp){
      dtb[k].wis = !dtb[k].wis;
      break;
    }
  }
  if(dtb[k].wis){
    newEl = document.createElement("div");
    newEl.className = "card";
    newEl.innerHTML='<div class="horizontally-center img-wrapper"><img src="' + dtb[k].imgsm[0] + '" alt="' + dtb[k].imgsm[1] +'"></div><div class="card-label vertically-center"><h3 class="loc-name">' + dtb[k].loc + '</h3><p>' + dtb[k].des[0] + '</p><span><a class="keyword">#' + dtb[k].key[0] + '</a> <a class="keyword">#' + dtb[k].key[1] + '</a></span><div class="add-to-wishlist"><div class="add-button vertically-center '+ dtb[k].loc.replace(/ /g, "-") + '">-</div><span>Delete from wishlist</span></div></div>';
    wishlist.appendChild(newEl);
    var cardSib = document.getElementsByClassName(dtb[k].loc.replace(/ /g, "-"));
    var cardTemp = wishlist.getElementsByClassName(dtb[k].loc.replace(/ /g, "-"))[0];
    cardTemp.addEventListener('click', editWishlist);
    for(var n=0; n<cardSib.length;n++){
      cardSib[n].textContent = "-";
      cardSib[n].style.padding = "0.5px 3.5px 6.5px 3.5px";
      cardSib[n].style.backgroundColor = "black";
      cardSib[n].style.color = "white";
      cardSib[n].nextSibling.textContent = "Remove from wishlist";
    }
  }
  else {
    var cardSib = document.getElementsByClassName(dtb[k].loc.replace(/ /g, "-"));
    for(var n=0; n<cardSib.length;n++){
      cardSib[n].textContent = "+";
      cardSib[n].style.padding = "2.5px 4.5px 4.5px 2.5px";
      cardSib[n].style.backgroundColor = "white";
      cardSib[n].style.color = "black";
      cardSib[n].nextSibling.textContent = "Add to wishlist";
    }
    var wishlistCards = wishlist.getElementsByClassName("card");
    for(var m=0; m<wishlistCards.length; m++){
      if(wishlistCards[m].getElementsByTagName("H3")[0].textContent.replace(/ /g, "-") == temp){
        wishlistCards[m].remove();
      }
    }
  }
}
for(j=0; j<addButtons.length; j++){
  addButtons[j].addEventListener('click', editWishlist);
  addButtons[j].nextSibling.textContent = "Add to wishlist";
}
